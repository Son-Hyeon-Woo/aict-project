import{u as b}from"./index-785b9846.js";import{V as w}from"./vue3-apexcharts-71ff169b.js";import{a as k}from"./layout-with-vertical-nav_v240827-94288597.js";import{p as l,q as d,r as _,s as p,V as I}from"./vuetify-09f96eeb.js";import{r as u,aH as T,o as m,f as j,g as t,j as e,u as o,d as C,p as z,ac as M,b as S,aM as B,aQ as D,F as N,k as i,z as h}from"./@vue-af8858a0.js";import{b as O}from"./vue-router-c3483ad4.js";import"./@iconify-a4feac00.js";import"./axios-9d43f49d.js";import"./apexcharts-clevision-bbcd5403.js";import"./axios-mock-adapter-5e48edef.js";import"./fast-deep-equal-6efe4724.js";import"./is-buffer-7d84b7d6.js";import"./pinia-82d65216.js";import"./vue-demi-71ba0ef2.js";import"./vue-3bad3565.js";import"./vue3-perfect-scrollbar-90d05027.js";import"./perfect-scrollbar-c9c56521.js";import"./@vueuse-14a61f44.js";const E={__name:"TimeBasedDetection",setup(x){const c=b().getAxiosInstance(),n=u([{name:"금일",data:[0,0,0,0,0,0,0,0,0,0]},{name:"전일",data:[0,0,0,0,0,0,0,0,0,0]}]),a=u({chart:{height:350,type:"area",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"time",categories:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"]},tooltip:{x:{format:"HH:mm"}}}),v=async()=>{try{const s=await c.get("http://localhost:8080/api/hourly-detected-emails");n.value[0].data=s.data.data.series[0].data,n.value[1].data=s.data.data.series[1].data;const f=s.data.data.categories.map(y=>y.split(" ")[1]);a.value={...a.value,xaxis:{...a.value.xaxis,categories:f}},console.log(s)}catch(s){console.error("Error fetching data:",s)}};return T(()=>{v()}),(s,f)=>(m(),j(d,null,{default:t(()=>[e(l,{cols:"12",class:"pt-0"},{default:t(()=>[e(o(w),{type:"area",options:o(a),series:o(n)},null,8,["options","series"])]),_:1})]),_:1}))}},A=k(E,[["__scopeId","data-v-91029852"]]),F={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},$=M('<g fill="none" stroke="currentColor" stroke-dasharray="12" stroke-dashoffset="12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.6"><path d="M22 12l-7 -7M22 12l-7 7"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="12;0"></animate></path><path d="M16 12l-7 -7M16 12l-7 7"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.3s" dur="0.3s" values="12;0"></animate></path><path d="M10 12l-7 -7M10 12l-7 7"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path></g>',1),H=[$],L=C({__name:"TripleArrow",setup(x){return(g,c)=>(m(),z("svg",F,H))}});const P={__name:"TodayDetection",setup(x){const c=b().getAxiosInstance();let n=null;const a=u({total:0,detected:0,blocked:0}),v=S(()=>[a.value.detected,a.value.total-a.value.detected]),s=u({chart:{type:"donut"},dataLabels:{enabled:!1},legend:{show:!1},plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,donut:{labels:{show:!0,total:{show:!0,showAlways:!0,label:"탐지",fontWeight:600,fontFamily:"Pretendard Variable",fontSize:"1.2rem"},value:{show:!0,fontWeight:600,fontFamily:"Pretendard Variable",fontSize:"1rem",offsetY:0}}}}},labels:["탐지",""],colors:["#70dc61","#00000020"],responsive:[{breakpoint:480,options:{chart:{width:200}}}]}),f=S(()=>[a.value.blocked,a.value.detected-a.value.blocked]),y=u({chart:{type:"donut"},dataLabels:{enabled:!1},legend:{show:!1},plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,donut:{labels:{show:!0,total:{show:!0,showAlways:!0,label:"차단",fontWeight:600,fontFamily:"Pretendard Variable",fontSize:"1rem"},value:{show:!0,fontWeight:600,fontFamily:"Pretendard Variable",fontSize:"1rem",offsetY:0}}}}},labels:["탐지",""],colors:["#C13030","#00000020"],responsive:[{breakpoint:480,options:{chart:{width:200}}}]}),V=async()=>{try{const r=await c.get("http://localhost:8080/api/today-detected-emails");a.value.total=r.data.data.totalEmails,a.value.detected=r.data.data.highRiskEmails,a.value.blocked=r.data.data.blockedHighRiskEmails,console.log(a.value)}catch(r){console.error("Error fetching data:",r)}};return B(()=>{V(),n=setInterval(V,3e4)}),D(()=>{n&&clearInterval(n)}),(r,J)=>(m(),j(d,{"no-gutters":""},{default:t(()=>[e(l,{cols:"6",class:"d-flex align-center justify-center"},{default:t(()=>[e(o(w),{type:"donut",width:"100%",options:o(s),series:o(v)},null,8,["options","series"])]),_:1}),e(l,{cols:"1",class:"d-flex align-center justify-center pa-0"},{default:t(()=>[e(L,{style:{width:"100px",height:"100px"}})]),_:1}),e(l,{cols:"5",class:"d-flex align-center justify-center"},{default:t(()=>[e(o(w),{type:"donut",width:"100%",options:o(y),series:o(f)},null,8,["options","series"])]),_:1})]),_:1}))}},R=k(P,[["__scopeId","data-v-588ec1c5"]]);const W={class:"d-flex align-center justify-center"},Y={class:"d-flex align-center justify-center flex-grow-1"},q={class:"d-flex align-center justify-center"},X={class:"d-flex align-center justify-center flex-grow-1"},Q={class:"d-flex align-center justify-center"},U={class:"d-flex align-center justify-center flex-grow-1"},G={__name:"dashboard",setup(x){return b().getAxiosInstance(),O(),B(()=>{}),(c,n)=>(m(),z(N,null,[e(d,null,{default:t(()=>[e(l,{cols:"4",class:"d-flex flex-column"},{default:t(()=>[e(_,{class:"pa-4 elevation-12 rounded flex-grow-1 d-flex flex-column"},{default:t(()=>[i("div",W,[e(p,{style:{"font-size":"1.2rem","font-weight":"700",color:"#00000095"}},{default:t(()=>[h("금일 탐지/차단 현황")]),_:1})]),i("div",Y,[e(R)])]),_:1})]),_:1}),e(l,{cols:"4",class:"d-flex flex-column"},{default:t(()=>[e(_,{class:"pa-4 elevation-12 rounded flex-grow-1"},{default:t(()=>[i("div",q,[e(p,{style:{"font-size":"1.2rem","font-weight":"700",color:"#00000095"}},{default:t(()=>[h("금일/전일 위협메일 탐지 추이")]),_:1})]),i("div",X,[e(A)])]),_:1})]),_:1}),e(l,{cols:"4",class:"d-flex flex-column"},{default:t(()=>[e(_,{class:"pa-4 elevation-12 rounded flex-grow-1"},{default:t(()=>[i("div",Q,[e(p,{style:{"font-size":"1.2rem","font-weight":"700",color:"#00000095"}},{default:t(()=>[h("금일 위협메일 유형별 통계")]),_:1})]),i("div",U,[e(A)])]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(l,null,{default:t(()=>[e(_,{class:"pa-4",elevation:"12",rounded:""},{default:t(()=>[e(d,null,{default:t(()=>[e(l,null,{default:t(()=>[e(I,{icon:"hugeicons:menu-square",class:"me-2"}),e(p,null,{default:t(()=>[h("위협 메일 유형별 통계")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}},me=k(G,[["__scopeId","data-v-2e553b98"]]);export{me as default};
